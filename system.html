<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Medicinal plants for various body systems including nervous, immune, digestive, respiratory, cardiovascular, urinary, endocrine, skin, and reproductive systems.">

    <!-- Content Security Policy -->
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline'; img-src 'self' data:; font-src 'self'; connect-src 'self'; frame-ancestors 'none'; base-uri 'self'; form-action 'self';">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:title" content="Body System Plants - Materia Medica">
    <meta property="og:description" content="Medicinal plants for various body systems including nervous, immune, digestive, respiratory, and more.">

    <!-- Twitter -->
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Body System Plants - Materia Medica">
    <meta name="twitter:description" content="Medicinal plants for various body systems including nervous, immune, digestive, respiratory, and more.">

    <title>Body System - Materia Medica</title>
    <link rel="icon" type="image/svg+xml" href="favicon.svg">
    <link rel="stylesheet" href="styles.css">
    <script src="utils.js"></script>
    <script src="page-transition.js"></script>
    <script src="navigation.js" defer></script>
    <script src="footer.js" defer></script>
    <script src="plants-data.js"></script>
    <script src="plants-renderer.js"></script>
    <script>
        // System configuration
        const SYSTEM_CONFIG = {
            'nervous': {
                title: 'Nervous System',
                description: 'Medicinal plants for nervous system support including sedatives, nervines, and herbs for stress, anxiety, and sleep.'
            },
            'immune': {
                title: 'Immune System',
                description: 'Medicinal plants that support immune function, fight infections, and strengthen the body\'s natural defenses.'
            },
            'digestive': {
                title: 'Digestive System',
                description: 'Medicinal plants for digestive health including herbs for stomach, liver, and intestinal support.'
            },
            'respiratory': {
                title: 'Respiratory System',
                description: 'Medicinal plants for respiratory health including expectorants, antitussives, and lung tonics.'
            },
            'cardiovascular': {
                title: 'Cardiovascular System',
                description: 'Medicinal plants for heart and circulatory health including cardiotonics and circulatory stimulants.'
            },
            'urinary': {
                title: 'Urinary System',
                description: 'Medicinal plants for urinary tract health including diuretics and urinary antiseptics.'
            },
            'endocrine': {
                title: 'Endocrine System',
                description: 'Medicinal plants that support hormonal balance and endocrine function.'
            },
            'skin': {
                title: 'Skin System',
                description: 'Medicinal plants for skin health including vulneraries, emollients, and healing herbs.'
            },
            'woman-reproductive': {
                title: 'Woman Reproductive System',
                description: 'Medicinal plants for women\'s reproductive health including uterine tonics and hormone regulators.'
            },
            'male-reproductive': {
                title: 'Male Reproductive System',
                description: 'Medicinal plants for men\'s reproductive health including prostate support and male tonics.'
            }
        };

        document.addEventListener('DOMContentLoaded', function() {
            // Get system from URL parameter
            const urlParams = new URLSearchParams(window.location.search);
            const system = urlParams.get('system') || 'nervous';

            // Get configuration
            const config = SYSTEM_CONFIG[system] || SYSTEM_CONFIG['nervous'];

            // Update page title and meta
            document.title = config.title + ' - Materia Medica';
            document.querySelector('meta[name="description"]').setAttribute('content', config.description);
            document.querySelector('meta[property="og:title"]').setAttribute('content', config.title + ' - Materia Medica');
            document.querySelector('meta[property="og:description"]').setAttribute('content', config.description);
            document.querySelector('meta[name="twitter:title"]').setAttribute('content', config.title + ' - Materia Medica');
            document.querySelector('meta[name="twitter:description"]').setAttribute('content', config.description);

            // Add system class to body
            document.body.className = system + '-system-page';

            // Show loading state
            const container = document.getElementById('plant-list-container');
            container.innerHTML = '<div class="loading-state"><div class="loading-spinner"></div><p>Loading plants...</p></div>';

            // Render plants for this system
            setTimeout(() => {
                window.PlantsRenderer.renderSystemPage(system);
            }, 100);
        });
    </script>
</head>
<body>
    <a href="#main-content" class="skip-link">Skip to main content</a>
    <div class="container">
        <header>
            <h1>Materia Medica</h1>
        </header>

        <div id="nav-placeholder"></div>

        <main id="main-content">
            <div class="plant-list" id="plant-list-container">
                <!-- Plant cards will be dynamically generated here -->
            </div>
        </main>

        <div id="footer-placeholder"></div>
    </div>
</body>
</html>
